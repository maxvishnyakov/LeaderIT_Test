# LeaderIT_Test
REST-сервис для хранения данных о городских достопримечательностях

Структура данных:

Город:
| Поля                            | 
| --------------------------------|
| Идентификатор (порядковый номер)| 
| Название города                 | 
| Численность населения           | 
| Наличие метро                   | 
| Страна                          | 

Достопримечательность:
| Поля                                                                                   | 
| ---------------------------------------------------------------------------------------|
| Идентификатор                                                                          | 
| Название достопримечательности                                                         | 
| Дата постройки                                                                         | 
| Краткое описание                                                                       | 
| Тип достопримечательности (enum, например: Здание/Сооружение/Музей/Памятник/Заповедник)| 
| Идентификатор города                                                                   | 

REST-сервис должен предоставлять следующие методы:

- Получить все достопримечательности (опционально можно передать параметр для сортировки по наименованию достопримечательности, параметр для фильтрации по типу достопримечательности)
- Получить все достопримечательности конкретного города
- Добавить город
- Добавить достопримечательность
- Изменение данных по городу (возможно изменение только полей: Численность населения, Наличие метро)
- Изменение данных по достопримечательности (возможно изменение только полей: Краткое описание)
- Удаление достопримечательности из справочника

Сервис при первом запуске должен самостоятельно создавать необходимые объекты в БД с помощью Liquibase.
Необходимо использовать PostgreSQL.

Для реализации необходимо использовать Java 8, Spring Boot, Hibernate, PostgreSQL, Liquibase.
Исходный код загрузить в GitHub и в описании указать краткую инструкцию по запуску приложения.

## Инструкция по запуску
- Склонировать репозиторий (git clone)
- В /resources/application.properties указать данные, необходимые для подключения к базе данных
- Запустить приложение (Можно с помощью mvn spring-boot:run)

## REST API
Для тестирования приложения использовался **Postman**

Добавление города:
**POST /city/add**

При отправке запроса необходимо указать все параметры города: name, population, metroAvailable, country

    Пример запроса: http://localhost:8080/city/add?name=Санкт-Петербург&population=5000000&metroAvailable=true&country=Россия
    
Редактирование города:
**POST city/edit/{idCity}**

При отправке запроса можно (опционально) указать параметры для редактирования города: population, metroAvailable

    Пример запроса: http://localhost:8080/city/edit/3?population=&metroAvailable=true
    
Получение списка достопримечательностей:
**GET /sights**

При отправке запроса можно (опционально) указать параметры для фильтрации по типу достпримечательности и сортировки по имени: 
filterTypeParam(BUILDING, CONSTRUCTION, MUSEUM, MONUMENT, RESERVE) , sortByNameParam(true/false)

    Пример запроса: http://localhost:8080/sights?filterTypeParam=BUILDING&sortByNameParam=true
    
Получение списка достопримечательностей по указанному городу:
**GET /sights/{cityId}**

    Пример запроса: http://localhost:8080/sights/1
    
Добавление достопримечательности:
**POST /sights/add**

При отправке запроса необходимо указать все параметры достпримечательности: name, consctructionDate, shortDescription, typeSight, cityId

Возможные значения для typeSight: BUILDING, CONSTRUCTION, MUSEUM, MONUMENT, RESERVE

    Пример запроса: http://localhost:8080/sights/add?name=Драм-театр&consctructionDate=2001-11-04&shortDescription=Кемеровский драмматический театр&typeSight=BUILDING&cityId=1

Редактирование достопримечательности
**POST /sights/edit/{sightId}**

При отправке запроса для редактирования можно указать только один параметр(в соответствии с условием задания): shortDescription

    Пример запроса: http://localhost:8080/sights/edit/9?shortDescription=Рекомендуется для посещения

Удаление достопримечательности
**DELETE /sights/delete/{sightId}**

    Пример запроса: http://localhost:8080/sights/delete/1

